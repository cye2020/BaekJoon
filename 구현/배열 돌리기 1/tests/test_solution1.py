import pytest
from src.solution1 import *


@pytest.mark.parametrize("N, M, R, input_matrix, expected_output", [
    # ✅ 기본 예제: 5x4, R=7
    (
        5, 4, 7,
        [
            [1, 2, 3, 4],
            [7, 8, 9, 10],
            [13, 14, 15, 16],
            [19, 20, 21, 22],
            [25, 26, 27, 28]
        ],
        [
            [28, 27, 26, 25],
            [22, 9, 15, 19],
            [16, 8, 21, 13],
            [10, 14, 20, 7],
            [4, 3, 2, 1]
        ]
    ),
    # ✅ 작은 배열: 2x2, R=2
    (
        2, 2, 2,
        [
            [1, 2],
            [3, 4]
        ],
        [
            [4, 3],
            [2, 1]
        ]
    ),
    # ✅ 회전 없음: R=0
    (
        4, 4, 0,
        [
            [1, 2, 3, 4],
            [5, 6, 7, 8],
            [9, 10, 11, 12],
            [13, 14, 15, 16]
        ],
        [
            [1, 2, 3, 4],
            [5, 6, 7, 8],
            [9, 10, 11, 12],
            [13, 14, 15, 16]
        ]
    ),
    # ✅ 큰 R값 (R > 둘레 길이): modulo로 처리
    (
        4, 4, 12,
        [
            [1, 2, 3, 4],
            [5, 6, 7, 8],
            [9, 10, 11, 12],
            [13, 14, 15, 16]
        ],
        [
            [1, 2, 3, 4],
            [5, 6, 7, 8],
            [9, 10, 11, 12],
            [13, 14, 15, 16]
        ]
    ),
    # ✅ 직사각형 배열: 6x2
    (
        6, 2, 3,
        [
            [1, 2],
            [3, 4],
            [5, 6],
            [7, 8],
            [9, 10],
            [11, 12]
        ],
        [
            [6, 8],
            [4, 10],
            [2, 12],
            [1, 11],
            [3, 9],
            [5, 7]
        ]
    )
])
def test_solution(N, M, R, input_matrix, expected_output):
    result = solution(N, M, R, input_matrix)
    assert result == expected_output